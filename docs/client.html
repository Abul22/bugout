<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="yes" name="mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <title>Bugout client test page</title>
  <script src="bugout.min.js" type="application/javascript"></script>
</head>
<body>
<h3 id="pk"></h3>
<p>Bugout client library loaded.</p>
<p>Open the developer console and connect to a server like this:</p>
<pre>
var b = new Bugout("SERVER-ADDRESS");

// watch for connection to the server
b.on("server", console.log.bind(null, "server"));

// watch for other parties joining server group
b.on("seen", console.log.bind(null, "seen"));

// watch for messages from server and others
b.on("message", console.log.bind("message"));
</pre>

<p>Then wait until you see the server connection message.</p>
<p>this can take a minute while WebRTC connects.</p>

<pre>
// make an RPC API call on the server and log the result
b.rpc("ping", {"Hello": "world"}, console.log);

// Send a message to anyone listening (unencrypted)
b.send("This is my message.");

// Send a message to the server specifically (encrypted)
b.send("SERVER-ADDRESS", "Hello server.");
</pre>
</body>
<style>
  * { 
    box-sizing: border-box;
  }

  body {
    max-width: 800px;
    font-family: Arial;
    font-size: 1.25em;
    text-align: center;
    margin: auto;
  }

  pre {
    width: 100%;
    padding: 0.5em;
    border-radius: 3px;
    text-align: left;
  }
</style>
</html>
